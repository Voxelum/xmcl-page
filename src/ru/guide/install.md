# Руковдство по установке

Лаунчер предоставляет только несколько форматов установки, некоторые из которых менее распространены. Здесь мы сосредоточимся на представлении **необычных** или **специальных** возможностей формата.

## Windows

:::info
Windows рекомендуется использовать `APPX` или `онлайн-установку (appinstaller)` для установки.
:::

### APPX 

APPX - это формат **установочного пакета** предоставляемый Windows 10, который позволяет запускать программы виртуализированной/сэндбокс-среде. Программы, установленные с помощью APPX, будут работать в "песочнице" Windows.

Самый большим преимуществом для пользователя является то, что `кэш-файлы`, `модификации реестра` и другие операции приложения будут изолированы. При удалении приложения `кэш` и `модификации реестра` будут удалены вместе.

::: info Хорошие новости
Не беспокойтесь о том, что программа будет возиться в реестре, хотя единственным дополнением XMCL к реестру может быть ассоциация расширений файлов.
:::

AppX обновляется через механизм appinstaller. В соответствии со стратегией [автоматического обновления](https://learn.microsoft.com/en-us/windows/msix/app-installer/auto-update-and-repair--overview#automatic-updates), встроенной в appinstaller, XMCL проверяет наличие обновлений, когда пользователь **запускает приложение**, и если обновление есть, то оно будет обновлено при следующем запуске.

:::info Хорошие новости
Автоматические обновления APPX поддерживают **оптимизацию доставки** и **инкрементальные обновления** Windows - обновление только измененного содержимого.
:::

### Онлайн-установка (appinstaller)

`appinstaller` по сути является тем же самым, что и формат `APPX`. Сам `appinstaller` представляет собой текстовый файл `XML`, который содержит `URL` `APPX`. Когда появляется интерфейс установки, он пытается загрузить `APPX` и установить его. Поэтому механизм обновления у него такой же, как и у APPX.

### Windows 7/8

Решение обнаружено и предоставлено [longteng](https://github.com/longteng-H)([bilibili](https://space.bilibili.com/1030667057))

:::details Как запустить XMCL на системах Windows ниже Windows 10
По умолчанию XMCL не поддерживает работу на Windows 7. Устанавливая расширенное ядро VxKex для дополнения необходимых библиотек времени выполнения, это обеспечивает решение для пользователей, которые все еще используют устаревшие системы. (Примечание: Этот метод также применим к некоторому программному обеспечению, которое не может нормально работать на старых системах)

1. Загрузите и установите расширенное ядро [VxKex-NEXT](https://github.com/YuZhouRen86/VxKex-NEXT). Это отечественная ветка, предоставленная здесь.
2. Найдите X Minecraft Launcher.exe и включите VxKex для него. Если вы не знаете как, пожалуйста, обратитесь к видео-уроку: [Modern Apps on Windows 7 | Windows 7 Extended Kernel](https://www.youtube.com/watch?v=zl7AsxtoPV8).

Отметьте оба пункта "Включить VxKex NEXT для этой программы" и "Сообщать о других версиях Windows", затем примените и подтвердите.

На этом этапе XMCL может нормально работать на Windows 7, и все функции, кроме многопользовательской игры, работают нормально.
:::

## MacOS

:::warning
Пользователям Mac необходимо разрешить установку взломанного программного обеспечения.
Поскольку XMCL не подписан, вам нужно разрешить его выполнение в настройках системы.
:::

### DMG

Мы предоставляем только формат DMG для пользователей MacOS. Формат DMG - это формат образа диска, который монтируется как виртуальный диск. После открытия DMG перетащите приложение в папку `Applications` для установки.

Для запуска приложения вам нужно разрешить программе запускаться в настройках системы.

```sh
# разрешить программы из любого источника
sudo spctl --master-disable
# удалить атрибут карантина
sudo xattr -c /Applications/X\ Minecraft\ Launcher.app
```

Если вы устанавливаете `X Minecraft Launcher.app` в другое место, просто замените `/Applications/X\ Minecraft\ Launcher.app` на путь к нему.

## Linux

:::info
Linux имеет так много дистрибутивов, что трудно предоставить универсальный метод установки. Здесь мы упомянем только `AppImage`.
:::

### AppImage

AppImage - это формат приложений для Linux, который может работать на любом рабочем столе Linux без установки. Файл AppImage является исполняемым, его достаточно дважды щелкнуть или запустить из терминала.

Это единственная программа без инсталляции, которую предоставляет XMCL (~~на самом деле не хочу ее поддерживать~~). Поэтому механизм обновления отличается от других форматов, и пользователям приходится самостоятельно скачивать новый AppImage для обновления.

## Другие форматы

В настоящее время другие форматы установки либо поддерживают [hot updates], либо поддерживают метод обновления, предоставляемый electron-builder. Этот режим обновления обычно не требует слишком много внимания (~~если вы не можете обновить, вы можете просто скачать пусковую установку снова~~).

:::tip Горячее обновление
Горячее обновление означает, что пусковая установка самостоятельно заменяет основной файл asar (~30 мб), без необходимости полной повторной загрузки пусковой установки.
:::

## Приложение: Выбор каталога игровых 

Во время начальной установки пользователям необходимо выбрать директорию `Game Data Directory`. В этот каталог XMCL поместит загруженные `ассеты`, `библиотеки`, `версии` и т.д.

:::warning Note
Как указано на странице установки, из-за особой файловой структуры XMCL не рекомендуется использовать **raw** каталог игры Minecraft в качестве каталога данных XMCL.
:::

Здесь рекомендуется выбрать новую папку в качестве `Game Data Directory` XMCL.

Более подробную информацию о структуре каталога игровых данных можно найти в [Руководстве по управлению данными](/ru/guide/manage.md#minecraft-related-data).
